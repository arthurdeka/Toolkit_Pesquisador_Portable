<!DOCTYPE html>

<html lang="pt-br">

    <head>

        <title>Toolkit do Pesquisador</title>
        <meta charset="utf-8">

        <!--Normalize-->
        <link rel="stylesheet" type="mime" href="normalize.css">

        <!--Style sheet-->
        <link rel="stylesheet" type="text/css" href="style.css">

        <!--Style adicional -->
        <link rel="stylesheet" type="text/css" href="style-adicional.css">
        

    </head>

    
    <body>

        <header>
            <h5 id="titulo-header">Toolkit do Pesquisador</h1>
            <h6 id="subtitulo-header">Ferramentas & Aplicações</h2>
        </header>

        <div id="principal">

            <aside id="menu">
                <h2 id="titulo-menu" align="center">Menu</h2>
                <ul>
                    <li><a href="contador-palavras.html">Contador de Palavras</a></li>
                    <li><a class="menu-selecionado" href="gerar-referencias.html">Gerar Referências</a></li>
                    <li><a href="normas-formatacao.html">Normas & Formatação</a></li>
                    <li><a href="downloads.html">Downloads</a></li>
                    <li><a href="sobre.html">Sobre...</a></li>

                    <br><br><br><br>
            
                    <li><a href="index.html">Voltar a Página Inicial</a></li>
                </ul>
            </aside>

            
            <div class="conteudo-normal">

                <script> //scripts relacionados aos radioButtons
            
                    //função para ocultar todos os elementos com a classe Opicional
                    function ocultaTudo() {
                        //função para ocultar todos os elementos com a classe Opicional
                        const elementosOpcionais = document.querySelectorAll(".opicional");
            
                        // Itera sobre os elementos e aplica o estilo 'display = "none"'
                        elementosOpcionais.forEach(function(elemento) {
                        elemento.style.display = "none";
                        });
            
                    }
            
                    function mostrarConteudo(radio_elecionado) {
                        const umAutor = document.getElementById("op1")
                        const doisAutor = document.getElementById("op2")
                        const tresAutor = document.getElementById("op3")
                        const etAl = document.getElementById("op4")
            
                        switch (radio_elecionado) {
            
                            case 'umAutor':
                                ocultaTudo()
                                umAutor.style.display = "block";
                                break
            
                            case 'doisAutor':
                                ocultaTudo()
                                umAutor.style.display = "block";
                                doisAutor.style.display = "block";
                                break
            
                            case 'tresAutor':
                                ocultaTudo()
                                umAutor.style.display = "block";
                                doisAutor.style.display = "block";
                                tresAutor.style.display = "block";
                                break
            
                            case 'etAl':
                                ocultaTudo()
                                etAl.style.display = "block";
                                break
                        }
                    }
            
                    function mostrarConteudoDisponibilidade(radio_selecionado) {
                        //items do Tipo de Acesso
                        const DisponivelLink = document.getElementById("DisponivelLink")
                        const DisponivelDOI = document.getElementById("DisponivelDOI")
            
                        const itensDisponivelEm = document.getElementById("itensDisponivelEm")
                        const itensDOIartigo = document.getElementById("itensDOIartigo")
            
                        //Items da Data de publicação
                        const data_DiaMesAno = document.getElementById("data_DiaMesAno")
                        const data_MesAno = document.getElementById("data_MesAno")
            
                        const itensDiaMesAno = document.getElementById("itensDiaMesAno")
                        const itensMesAno = document.getElementById("itensMesAno")
            
                        //itens da cidade de publicação
                        const cidadePub = document.getElementById("cidadePub")
                        const itensCidadePub = document.getElementById("itensCidadePub")
            
            
                        switch (radio_selecionado) {
            
                            case 'DisponivelLink':
                                itensDisponivelEm.style.display = "block";
                                itensDOIartigo.style.display = "none";
                                break
            
                            case 'DisponivelDOI':
                                itensDOIartigo.style.display = "block";
                                itensDisponivelEm.style.display = "none";
                                break
            
                            case 'data_DiaMesAno':
                                itensDiaMesAno.style.display = "block";
                                itensMesAno.style.display = "none";
                                break
                                
                            case 'data_MesAno':
                                itensMesAno.style.display = "block";
                                itensDiaMesAno.style.display = "none";
                                break
            
                            case 'cidadePub':
                                if (itensCidadePub.style.display == "block") {
                                    itensCidadePub.style.display = "none";
                                } else {
                                    itensCidadePub.style.display = "block";
                                }
            
                                break
            
            
                        }
            
                    }
            
                </script>
            
                <script> //scripts relacionados a coleta e processamento de dados
                    
                    function formatarData(data, formato) {
            
                        if (formato == 'DiaMesAno') {
                            const meses = [
                            "jan.", "fev.", "mar.", "abr.", "mai.", "jun.", 
                            "jul.", "ago.", "set.", "out.", "nov.", "dez."
                            ];
                        
                            const partes = data.split("-");
                            const dia = partes[2];
                            const mes = meses[parseInt(partes[1], 10) - 1];
                            const ano = partes[0];
                        
                            return `${dia} ${mes} ${ano}.`;
                        }
            
                        else if (formato == 'MesAno') {
                            const meses = [
                            "jan.", "fev.", "mar.", "abr.", "mai.", "jun.", 
                            "jul.", "ago.", "set.", "out.", "nov.", "dez."
                            ];
            
                            const partes = data.split("-");
                            const mes = meses[parseInt(partes[1], 10) - 1];
                            const ano = partes[0];
            
                            return `${mes} ${ano}.`;
                        }
            
                    }
                      
                    function gerarReferencia() {
                        
                        //coleta dos dados
                        let nomeAutor_1 = document.getElementById("nome_autor_1").value
                        let sobrenomeAutor_1 = document.getElementById("sobrenome_autor_1").value
            
                        let nomeAutor_2 = document.getElementById("nome_autor_2").value
                        let sobrenomeAutor_2 = document.getElementById("sobrenome_autor_2").value
                        
                        let nomeAutor_3 = document.getElementById("nome_autor_3").value
                        let sobrenomeAutor_3 = document.getElementById("sobrenome_autor_3").value
                        
                        let nomeAutor_etal = document.getElementById("nome_autor_etal").value
                        let sobrenomeAutor_etal = document.getElementById("sobrenome_autor_etal").value
                        
                        let tituloArtigo = document.getElementById("titulo_artigo").value
                        let tituloRevista = document.getElementById("titulo_revista").value
            
                        let Data_MesAno = document.getElementById("Data_MesAno").value
                        let Data_Ano = document.getElementById("Data_Ano").value
            
                        let volArtigo = document.getElementById("vol_artigo").value
                        let numArtigo = document.getElementById("num_artigo").value
                        let pagsArtigo = document.getElementById("pag_artigo").value
            
                        let localPubli = document.getElementById("local_artigo").value
            
                        let DOI_Artigo = document.getElementById("DOI_Artigo").value
                        let disponivelEm = document.getElementById("disponivel_artigo").value
                        let dataAcesso = document.getElementById("DataAcesso_Artigo").value
            
                        //processamento dos dados
                        if (document.getElementById("1autor").checked) {
                            sobrenomeAutor_1 = sobrenomeAutor_1.toUpperCase()
                            resultadoNomes = `${sobrenomeAutor_1}, ${nomeAutor_1}.`
            
                        } else if (document.getElementById("2autor").checked) {
                            sobrenomeAutor_1 = sobrenomeAutor_1.toUpperCase()
                            sobrenomeAutor_2 = sobrenomeAutor_2.toUpperCase()
            
                            resultadoNomes = `${sobrenomeAutor_1}, ${nomeAutor_1}; ${sobrenomeAutor_2}, ${nomeAutor_2}.`
            
                        } else if (document.getElementById("3autor").checked) {
                            sobrenomeAutor_1 = sobrenomeAutor_1.toUpperCase()
                            sobrenomeAutor_2 = sobrenomeAutor_2.toUpperCase()
                            sobrenomeAutor_3 = sobrenomeAutor_3.toUpperCase()
            
                            resultadoNomes = `${sobrenomeAutor_1}, ${nomeAutor_1}; ${sobrenomeAutor_2}, ${nomeAutor_2}; ${sobrenomeAutor_3}, ${nomeAutor_3}.`
            
                        } else if(document.getElementById("etAl")) {
                            sobrenomeAutor_etal = sobrenomeAutor_etal.toUpperCase()
                            resultadoNomes = `${sobrenomeAutor_etal}, ${nomeAutor_etal}. <i>et al.</i>`
                        
                        }
                        
                        //processamento data de publicação
                        let dataPubli = ''
                        if (document.getElementById("radio_data_MesAno").checked) {
                            dataPubli = Data_MesAno
                            dataPubli = formatarData(dataPubli, 'MesAno')
            
                        } else if(document.getElementById("radio_data_Ano").checked) {
                            dataPubli = Data_Ano + '.'
            
                        }
            
                        //processamento tipo de acesso
                        let tipo_acesso = ''
                        if (document.getElementById("DisponivelDOI").checked) {
                            tipo_acesso = `DOI: ${DOI_Artigo}.`
                            
                        } else if(document.getElementById("DisponivelLink").checked) {
                            dataAcesso = formatarData(dataAcesso, 'DiaMesAno')
                            tipo_acesso = `Disponível em: ${disponivelEm}. Acesso em: ${dataAcesso}`
                        }
            
                        //checagem da cidade de publicação
                        if (document.getElementById("cidadePub").checked) {
                            resultadoCorpo = `${tituloArtigo}. <b>${tituloRevista}</b>, ${localPubli}, v. ${volArtigo}, n. ${numArtigo}, p. ${pagsArtigo}, ${dataPubli} ${tipo_acesso}`
                        } else {
                            resultadoCorpo = `${tituloArtigo}. <b>${tituloRevista}</b>, v. ${volArtigo}, n. ${numArtigo}, p. ${pagsArtigo}, ${dataPubli} ${tipo_acesso}`
                        }
            
                        resultadoFinal = `${resultadoNomes} ${resultadoCorpo}`
            
                        //criação do resultado na página
                        const novoElemento = document.createElement("div")
                        const local = document.getElementById("grupoGeracoes")
            
                        novoElemento.classList.add("geracao");
                        novoElemento.innerHTML = resultadoFinal
                        local.appendChild(novoElemento)
            
                    }
            
                </script>
            
                <h1>Gerar Referências</h1>
                <p class="paragrafo-descritivo">
                    Preencha os dados para gerar uma referência sobre determinada obra.
                </p>
            
                <br>
                
                <!-- seção referente ao "Quantidade de autores" -->
                <div class="grupoRadioButtons">
            
                    <h5>Quantidade de autores:</h5>
            
                    <br>
            
                    <div style="display: inline; margin-right: 15px;">
                        <input onclick="mostrarConteudo('umAutor')" type="radio" name="numAutores" id="1autor">
                        <label>Somente um autor</label>
                    </div>
                    
                    <div style="display: inline; margin-right: 15px;">
                        <input onclick="mostrarConteudo('doisAutor')" type="radio" name="numAutores" id="2autor">
                        <label>Dois autores</label>
                    </div>
            
                    <div style="display: inline; margin-right: 15px;">
                        <input onclick="mostrarConteudo('tresAutor')" type="radio" name="numAutores" id="3autor">
                        <label>Três autores</label>
                    </div>
            
                    <div style="display: inline; margin-right: 15px;">
                        <input onclick="mostrarConteudo('etAl')" type="radio" name="numAutores" id="etAl">
                        <label>Mais de três autores</label>
                    </div>
            
                </div>
                
                <!-- inputs dos autores (que aparecem e somem) -->
                <div id="inputs-opicionais">
            
                    <div id="op1" class="opicional hidden">
                        <div>
                            <label>Nome do autor:</label> <br>
                            <input id="nome_autor_1" type="text"> 
                        </div>
            
                        <div>
                            <label>Último nome do autor:</label> <br>
                            <input id="sobrenome_autor_1" type="text">
                        </div>
                    </div>
            
                    <div id="op2" class="opicional hidden">
                        <div>
                            <label>Nome do segundo autor:</label> <br>
                            <input id="nome_autor_2" type="text"> 
                        </div>
            
                        <div>
                            <label>Último nome do segundo autor:</label> <br>
                            <input id="sobrenome_autor_2" type="text">
                        </div>
                    </div>
            
                    <div id="op3" class="opicional hidden">
                        <div>
                            <label>Nome do terceiro autor:</label> <br>
                            <input id="nome_autor_3" type="text"> 
                        </div>
            
                        <div>
                            <label>Último nome do terceiro autor:</label> <br>
                            <input id="sobrenome_autor_3" type="text">
                        </div>
                    </div>
            
                    <div id="op4" class="opicional hidden">
                        <div>
                            <label>Nome do primeiro autor:</label> <br>
                            <input id="nome_autor_etal" type="text"> 
                        </div>
            
                        <div>
                            <label>Último nome do primeiro autor:</label> <br>
                            <input id="sobrenome_autor_etal" type="text">
                        </div>
                    </div>
            
                </div>
            
            
                <div id="outros-inputs">
            
                    <label for="titulo_artigo">Título do artigo:</label> <br>
                    <input id="titulo_artigo" name="titulo_artigo" type="text"> <br>      
            
                    <br>
            
                    <label for="titulo_revista">Título da revista:</label> <br>
                    <input id="titulo_revista" name="titulo_revista" type="text"> <br>    
            
                    <br>
            
                    <!-- seção referente a "Data de publicação" -->
                    <div class="borderBottom">
                        
                        <div class="tooltip">
                            <span class="tooltipText"> <small>Algumas revistas fornecem somente o ano<br>de publicação do artigo, já outras fornecem o mês e ano.<br> Marque a opção que se encaixar em seu caso.</small> </span>
                            <span>Me explique</span>
                        </div>
            
                        <div class="grupoRadioButtons">
            
                            <h5>Data de publicação, formato da data:</h5><br>
            
                            <div style="display: inline-block; margin-right: 30px;">
                                <input onclick="mostrarConteudoDisponibilidade('data_DiaMesAno')" type="radio" name="DataPub" id="radio_data_MesAno">
                                <label>Mês e Ano</label>
                            </div>
            
                            <div style="display: inline-block;">
                                <input onclick="mostrarConteudoDisponibilidade('data_MesAno')" type="radio" name="DataPub" id="radio_data_Ano">
                                <label>Somente ano</label>
                            </div>
            
                        </div>
            
                        
            
                        <div id="itensDiaMesAno" style="display: none; margin-top: 15px;">
            
                            <label for="Data_MesAno">Data:</label> <br>
                            <input type="month" id="Data_MesAno" name="Data_MesAno"> <br>       
            
                        </div>
            
                        <div id="itensMesAno" style="display: none; margin-top: 15px;">
            
                            <label for="Data_Ano">Data:</label> <br>
                            <input type="number" id="Data_Ano" name="Data_Ano"> <br>
            
                        </div>
            
                    </div>
            
                    <br>
            
                    <label for="vol_artigo">Volume do exemplar:</label> <br>
                    <input id="vol_artigo" name="vol_artigo" type="number"> <br>  
            
                    <br>
            
                    <label for="num_artigo">Número do exemplar:</label> <br>
                    <input id="num_artigo" name="num_artigo" type="number"> <br> 
            
                    <br>
            
                    <label for="pag_artigo">Páginas inicial-final:</label> <br>
                    <input id="pag_artigo" name="pag_artigo" type="text"> <br>    
            
                    <br>
            
                    <!-- seção referente a "Adicionar cidade de publicação da revista" -->
                    <div class="borderBottom">
            
                        <div class="tooltip">
                            <span class="tooltipText"> <small>Algumas revistas não disponibilizam a cidade de publicação.<br>Caso seja seu caso, deixe essa opção desmarcada</small> </span>
                            <span>Me explique</span>
                        </div>
            
                        <div class="grupoRadioButtons">
                            <div style="display: inline-block; margin-right: 30px;">
                                <input onclick="mostrarConteudoDisponibilidade('cidadePub')"  type="checkbox" name="cidadePub" id="cidadePub">
                                <label>Adicionar cidade de publicação da revista</label>
                            </div>
                        </div>
            
                        <div id="itensCidadePub" style="display: none;">
                            <label for="local_artigo">Cidade de publicação da revista:</label> <br>
                            <input id="local_artigo" name="local_artigo" type="text"> <br>
                        </div>
            
                    </div>
            
                    <br><br>
            
                    <!-- seção referente ao "Tipo de acesso:" -->
                    <div class="borderBottom">
            
                        <div class="tooltip">
                            <span class="tooltipText"> <small>Selecione aqui por qual maneira você teve acesso ao artigo.<br>Caso tenha sido online, no campo "Acesso em" coloque o dia que você acessou o artigo.</small> </span>
                            <span>Me explique</span>
                        </div>
            
                        <div class="grupoRadioButtons">
            
                            <h5>Tipo de acesso:</h5><br>
            
                            <div style="display: inline-block; margin-right: 30px;">
                                <input onclick="mostrarConteudoDisponibilidade('DisponivelDOI')"  type="radio" name="DisponivelArtigo" id="DisponivelDOI">
                                <label>DOI do artigo</label>
                            </div>
            
                            <div style="display: inline-block;">
                                <input onclick="mostrarConteudoDisponibilidade('DisponivelLink')" type="radio" name="DisponivelArtigo" id="DisponivelLink">
                                <label>Acesso online (Link e data de acesso do artigo)</label>
                            </div>
                        </div>
            
                        
            
                        <div id="itensDisponivelEm" style="display: none; margin-top: 15px;">
            
                            <label for="disponivel_artigo">Disponível em (link):</label> <br>
                            <input id="disponivel_artigo" name="disponivel_artigo" type="text"> <br>        
                    
                            <br>
                    
                            <label for="DataAcesso_Artigo">Acesso em:</label> <br>
                            <input type="date" id="DataAcesso_Artigo" name="DataAcesso_Artigo"> <br>     
            
                        </div>
            
                        <div id="itensDOIartigo" style="display: none; margin-top: 15px;">
            
                            <label for="DOI_Artigo">DOI do artigo:</label> <br>
                            <input type="text" id="DOI_Artigo" name="DOI_Artigo"> <br>
            
                        </div>
            
                    </div>
            
            
            
            
            
                </div>
            
                <br><br>
            
                <button onclick="gerarReferencia()" type="submit" class="buttons-padrao">Gerar</button>
                
                <br><br>
            
                <div id="geracoesFeitas">
                    <h2>Gerações:</h2>
            
                    <div id="grupoGeracoes">
            
                    </div>
            
                </div>
            
                
            </div>
                

        </div> 

        <footer>
        </footer>


    </body>

</html>

